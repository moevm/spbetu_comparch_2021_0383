Microsoft (R) Macro Assembler Version 5.10                  12/19/21 20:15:2
                                                             Page     1-1


 = 0005				NUM_SYM equ 5 ; –∫–æ–ª-–≤–æ —ÅE∏–º–≤–æ–ª–æ–≤ –≤
				 —ÅEÇ—Ä–æ–∫–µ –¥–ª—ÅE–≤–≤–æ–¥–∞
				
				; –°—Ç–µ–∫  –ø—Ä–æ–≥—Ä–∞–º–º—ÅE
 0000				AStack    SEGMENT  STACK
 0000  0400[			          DW 1024 DUP(?)  ; –û—Ç–≤–æ–¥–∏—Ç—ÅEÅE
				1024 —ÅEª–æ–≤ –ø–∞–º—è—Ç–∏
	   ????			
			 ]	
				
 0800				AStack    ENDS
				
				; –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ÅE
 0000				DATA      SEGMENT
 0000  0000			          KEEP_CS DW 0  ; –¥–ª—ÅE—ÅEÄ–∞–Ω–µ–Ω–∏
				—ÅE—ÅEµ–≥–º–µ–Ω—Ç–∞
 0002  0000			          KEEP_IP DW 0  ; –∏ —ÅEº–µ—â–µ–Ω–∏—ÅE–
				ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—ÅE
				          ; –≤–æ–∑–≤—Ä–∞—ÅE–∫–∞—Ä–µ—Ç–∫–∏ —ÅE–∫
				–æ–¥–æ–º 13 (0Dh), –ø–µ—Ä–µ–≤–æ–¥ —ÅEÇ—Ä–æ–∫–∏ 
				—ÅE–∫–æ–¥–æ–º 10 (0Ah).
 0004  0D 0A			          MES DB 0Dh, 0Ah, NUM_SYM dup("$"), '$
				'
       0005[			
	   24			
			 ]	
       24			
 000C  0D 0A 46 69 6E 69	          MES_END DB 0Dh, 0Ah, 'Finish', '$'
       73 68 24			
 0015				DATA      ENDS
				
				; –ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ÅE
 0000				CODE      SEGMENT
				          ASSUME CS:CODE, DS:DATA, SS:AStack
				
 0000				SUBR_INT  PROC FAR
 0000  50			          PUSH  AX  ; —ÅEæ—ÅEÄ–∞–Ω–µ–Ω–∏–µ –∏–∑
				–º–µ–Ω—è–µ–º—ã—ÅE—Ä–µ–≥–∏—ÅEÇ—Ä–æ–≤
 0001  53			          PUSH  BX
 0002  51			          PUSH  CX
 0003  52			          PUSH  DX
				                    
				          ; –¥–µ–π—ÅEÇ–≤–∏—ÅE–ø–æ –æ–±—Ä–∞–±–æ—
				Ç–∫–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—ÅE
 0004  B9 0005			          mov  cx, NUM_SYM
 0007  BB 0004 R		          mov  bx, offset MES  ; –ø–æ–ª—É—ÅE∞–µ
				–º —ÅEº–µ—â–µ–Ω–∏–µ –Ω–∞ –Ω–∞—ÅE∞–ª–æ —ÅEæ–æ–±—
				â–µ–Ω–∏—ÅE
 000A  83 C3 02			          add  bx, 2
 000D  B4 01			          mov  ah, 01h   ; –≤–≤–æ–¥ —ÅE–∫–ª–∞–≤
				–∏–∞—Ç—É—Ä—ÅE
 000F				      lp:         
 000F  CD 21			          int  21h
 0011  88 07			          mov  [bx], al  ; –ø–æ–º–µ—â–∞–µ–º —ÅE
Microsoft (R) Macro Assembler Version 5.10                  12/19/21 20:15:2
                                                             Page     1-2


				∏–º–≤–æ–ª –≤ —ÅEÇ—Ä–æ–∫—ÅE
 0013  43			          inc  bx
 0014  E2 F9			          loop  lp
				                
				          ; –≤—ã–≤–æ–¥ —ÅEÇ—Ä–æ–∫ (—ÅEæ–æ–±—â–µ
				–Ω–∏–π)
 0016  B4 09			          mov  ah, 09h
 0018  BA 0004 R		          mov  dx, offset MES
 001B  CD 21			          int  21h
 001D  BA 000C R		          mov  dx, offset MES_END
 0020  CD 21			          int  21h
				          
 0022  58			          POP  AX   ; –≤–æ—ÅEÅEÇ–∞–Ω–æ–≤–ª–µ–Ω–
				∏–µ —Ä–µ–≥–∏—ÅEÇ—Ä–æ–≤
 0023  5B			          POP  BX
 0024  59			          POP  CX   
 0025  5A			          POP  DX   
 0026  B0 20			          MOV  AL, 20H  ; –¥–ª—ÅE—Ä–∞–∑—Ä–µ—à–µ
				–Ω–∏—ÅE–æ–±—Ä–∞–±–æ–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π
 0028  E6 20			          OUT  20H,AL  ; —ÅE–±–æ–ª–µ–µ –Ω–∏–∑–∫
				–∏–º–∏ —É—Ä–æ–≤–Ω—è–º–∏, —ÅEµ–º —Ç–æ–ª—å–∫–æ —ÅE
				—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ
 002A  CF			          IRET
 002B				SUBR_INT  ENDP
				
				; –ì–æ–ª–æ–≤–Ω–∞—ÅE–ø—Ä–æ—ÅEµ–¥—É—Ä–∞
 002B				Main            PROC  FAR
 002B  1E			          push  DS       ;\  –°–æ—ÅEÄ–∞–Ω–µ–Ω–∏
				–µ –∞–¥—Ä–µ—ÅE∞ –Ω–∞—ÅE∞–ª–∞ PSP –≤ —ÅEÇ–µ–∫–µ
 002C  2B C0			          sub   AX,AX    ; > –¥–ª—ÅE–ø–æ—ÅEª–µ–
				¥—É—é—â–µ–≥–æ –≤–æ—ÅEÅEÇ–∞–Ω–æ–≤–ª–µ–Ω–∏—ÅE–ø–æ
 002E  50			          push  AX       ;/  –∫–æ–º–∞–Ω–¥–µ ret
				, –∑–∞–≤–µ—Ä—à–∞—é—â–µ–π –ø—Ä–æ—ÅEµ–¥—É—Ä—ÅE
 002F  B8 ---- R		          mov   AX,DATA   ; –ó–∞–≥—Ä—É–∑–∫–∞ —ÅE
				–µ–≥–º–µ–Ω—Ç–Ω–æ–≥–æ
 0032  8E D8			          mov   DS,AX     ; —Ä–µ–≥–∏—ÅEÇ—Ä–∞ –¥
				–∞–Ω–Ω—ã—ÅE
				          
				          ; –ó–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ
				–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—ÅE
 0034  B4 35			          MOV  AH, 35H   ; —ÅEÉ–Ω–∫—ÅE∏—ÅE–ø–æ–
				ª—É—ÅEµ–Ω–∏—ÅE–≤–µ–∫—Ç–æ—Ä–∞
 0036  B0 23			          MOV  AL, 23H   ; –Ω–æ–º–µ—Ä –≤–µ–∫—Ç–
				æ—Ä–∞
 0038  CD 21			          INT  21H
 003A  89 1E 0002 R		          MOV  KEEP_IP, BX  ; –∑–∞–ø–æ–º–∏–Ω–∞–
				Ω–∏–µ —ÅEº–µ—â–µ–Ω–∏—ÅE
 003E  8C 06 0000 R		          MOV  KEEP_CS, ES  ; –∏ —ÅEµ–≥–º–µ–Ω—ÅE
				–∞
				          
				          ; –£—ÅEÇ–∞–Ω–æ–≤–∫–∞ –≤–µ–∫—Ç–æ—Ä–∞ –
				ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—ÅE
 0042  1E			          PUSH DS
 0043  BA 0000 R		          MOV  DX, OFFSET SUBR_INT ; —ÅEº–µ—â–µ
Microsoft (R) Macro Assembler Version 5.10                  12/19/21 20:15:2
                                                             Page     1-3


				–Ω–∏–µ –¥–ª—ÅE–ø—Ä–æ—ÅEµ–¥—É—Ä—ÅE–≤ DX
 0046  B8 ---- R		          MOV  AX, SEG SUBR_INT    ; —ÅEµ–≥–º–µ
				–Ω—ÅE–ø—Ä–æ—ÅEµ–¥—É—Ä—ÅE
 0049  8E D8			          MOV  DS, AX          ; –ø–æ–º–µ—â–∞–µ
				–º –≤ DS
 004B  B4 25			          MOV  AH, 25H         ; —ÅEÉ–Ω–∫—ÅE∏—ÅE
				 —É—ÅEÇ–∞–Ω–æ–≤–∫–∏ –≤–µ–∫—Ç–æ—Ä–∞
 004D  B0 23			          MOV  AL, 23H         ; –Ω–æ–º–µ—Ä –≤–
				µ–∫—Ç–æ—Ä–∞
 004F  CD 21			          INT  21H             ; –º–µ–Ω—è–µ–º –
				ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ
 0051  1F			          POP  DS
				          
				          ;–æ–∂–∏–¥–∞–Ω–∏–µ –Ω–∞–∂–∞—Ç–∏—ÅEctrl
				_c
 0052				          ctrl_c:  
 0052  B4 00			                mov ah, 0
 0054  CD 16			                int 16h ;–ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ÅE
				–π –≤–≤–æ–¥ (—ÅEÇ–µ–Ω–∏–µ –∫–ª–∞–≤–∏—ÅE
 0056  3C 03			                cmp al, 3
 0058  75 F8			                jne ctrl_c
				          
 005A  CD 23			          int 23h
				          
				          ; –í–æ—ÅEÅEÇ–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–Ω
				–∞—ÅE∞–ª—å–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–
				∞–Ω–∏—ÅE
 005C  FA			          CLI
 005D  1E			          PUSH DS
 005E  8B 16 0002 R		          MOV  DX, KEEP_IP
 0062  A1 0000 R		          MOV  AX, KEEP_CS
 0065  8E D8			          MOV  DS, AX
 0067  B4 25			          MOV  AH, 25H
 0069  B0 23			          MOV  AL, 23H
 006B  CD 21			          INT  21H          ; –≤–æ—ÅEÅEÇ–∞–Ω–∞–
				≤–ª–∏–≤–∞–µ–º –≤–µ–∫—Ç–æ—Ä
 006D  1F			          POP  DS
 006E  FB			          STI
				          
 006F  CB			          RET
				
 0070				Main      ENDP
 0070				CODE      ENDS
				          END Main
Microsoft (R) Macro Assembler Version 5.10                  12/19/21 20:15:2
                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

ASTACK . . . . . . . . . . . . .  	0800	PARA	STACK	
CODE . . . . . . . . . . . . . .  	0070	PARA	NONE	
DATA . . . . . . . . . . . . . .  	0015	PARA	NONE	

Symbols:            

                N a m e         	Type	 Value	 Attr

CTRL_C . . . . . . . . . . . . .  	L NEAR	0052	CODE

KEEP_CS  . . . . . . . . . . . .  	L WORD	0000	DATA
KEEP_IP  . . . . . . . . . . . .  	L WORD	0002	DATA

LP . . . . . . . . . . . . . . .  	L NEAR	000F	CODE

MAIN . . . . . . . . . . . . . .  	F PROC	002B	CODE	Length = 0045
MES  . . . . . . . . . . . . . .  	L BYTE	0004	DATA
MES_END  . . . . . . . . . . . .  	L BYTE	000C	DATA

NUM_SYM  . . . . . . . . . . . .  	NUMBER	0005	

SUBR_INT . . . . . . . . . . . .  	F PROC	0000	CODE	Length = 002B

@CPU . . . . . . . . . . . . . .  	TEXT  0101h		
@FILENAME  . . . . . . . . . . .  	TEXT  LAB5		
@VERSION . . . . . . . . . . . .  	TEXT  510		


    104 Source  Lines
    104 Total   Lines
     17 Symbols

  48016 + 455147 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
