Microsoft (R) Macro Assembler Version 5.10                  12/7/21 14:09:06
                                                             Page     1-1


 0000				STACK SEGMENT STACK
 0000  0400[				DW 1024 DUP (?)
	   ????			
			 ]	
				
 0800				STACK ENDS
				
 0000				DATA      SEGMENT
 0000  0000				KEEP_CS DW 0 ; –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è 
				—Å–µ–≥–º–µ–Ω—Ç–∞
 0002  0000			    KEEP_IP DW 0 ; –∏ —Å–º–µ—â–µ–Ω–∏—è –ø—Ä–µ—Ä
				—ã–≤–∞–Ω–∏—è
 0004				DATA      ENDS
				
 0000				CODE      SEGMENT
				    ASSUME CS:CODE, DS:DATA, SS:STACK
				
 0000				MY_INT  PROC FAR
 0000  EB 2D 90				JMP start
 0003  0000				spec_SP DW 0000h
 0005  0000				spec_SS DW 0000h
 0007  0028[				SPEC_STACK DB 40 DUP(0)
	   00			
			 ]	
				
 002F				start:
 002F  2E: 89 26 0003 R			MOV spec_SP, SP
 0034  2E: 8C 16 0005 R			MOV spec_SS, SS
 0039  BC ---- R			MOV SP, SEG SPEC_STACK
 003C  8E D4				MOV SS, SP
 003E  BC 002F R			MOV SP, offset start
 0041  50				PUSH AX    ; —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–
				º–µ–Ω—è–µ–º—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
 0042  51				PUSH CX
						
				            ;<–¥–µ–π—Å—Ç–≤–∏—è –ø–æ –æ–±—Ä–∞–±–
				æ—Ç–∫–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è>
 0043  8B C8				MOV CX, AX
 0045  B0 B6				MOV AL, 10110110b ; 0B6H
 0047  E6 43				OUT 43H, AL ; –ö–æ–¥ –¥–ª—è —É—Å—Ç–∞–Ω–
				æ–≤–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞ 2 —Ç–∞–π–º–µ—Ä–∞-—Å—
				á–µ—Ç—á–∏–∫–∞ –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ –∫–∞—á–µ—Å—Ç
				–≤–µ –¥–µ–ª–∏—Ç–µ–ª—è —á–∞—Å—Ç–æ—Ç—ã —Å–º. –º–µ
				—Ç–æ–¥—É
 0049  8B C1				MOV AX, CX ; –ó–∞–Ω–æ—Å–∏–º –≤ AX –≤—ã—
				Å–æ—Ç—É –∑–≤—É–∫–∞
 004B  E6 42				OUT 42H, AL
 004D  8A C4				MOV AL, AH
 004F  E6 42				OUT 42H, AL ; –ó–∞–Ω–æ—Å–∏–º –ø–æ–æ—á–µ
				—Ä–µ–¥–Ω–æ 2 –±–∞–π—Ç–∞ –≤ –ø–æ—Ä—Ç 42h(—Ä–µ–≥–
				∏—Å—Ç—Ä –∫–∞–Ω–∞–ª–∞ 2)
 0051  E4 61				IN AL, 61H ; –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–≤—É–
				∫–∞ –ø—É—Ç—ë–º —Å–¥–≤–∏–≥–∞ –¥–∏—Ñ—Ñ—É–∑–æ—Ä–∞ 
				—Ç—É–¥–∞-–æ–±—Ä–∞—Ç–Ω–æ
Microsoft (R) Macro Assembler Version 5.10                  12/7/21 14:09:06
                                                             Page     1-2


 0053  8A E0				MOV AH, AL
 0055  0C 03				OR AL, 3
 0057  E6 61				OUT 61H, AL
 0059  2B C9				SUB CX, CX
 005B					WHILE_TIME:
 005B  90				NOP
 005C  E2 FD				LOOP WHILE_TIME ; –¶–∏–∫–ª, –ø–æ–∫–∞ –¥
				–∏–Ω–∞–º–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
 005E  8A C4				MOV AL, AH
 0060  E6 61				OUT 61H, AL ; –í—ã–∫–ª—é—á–µ–Ω–∏–µ –¥–∏
				–Ω–∞–º–∏–∫–∞ (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ
				–Ω–∏–µ –ø–æ—Ä—Ç–∞ 61h)
				            ;<–∫–æ–Ω–µ—Ü –¥–µ–π—Å—Ç–≤–∏–π –ø–æ 
				–æ–±—Ä–∞–±–æ—Ç–∫–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è>
 0062  59				POP  CX
 0063  58				POP  AX   ; –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–
				µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤
 0064  2E: 8E 16 0005 R			MOV  SS, spec_SS
 0069  2E: 8B 26 0003 R			MOV  SP, spec_SP
 006E  B0 20				MOV  AL, 20H
 0070  E6 20				OUT  20H,AL
 0072  CF				IRET
 0073				MY_INT  ENDP
				
 0073				Main	PROC  FAR
					; <–ó–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–
				≥–æ –≤–µ–∫—Ç–æ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è>
 0073  B4 35				MOV  AH, 35H   ; —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—
				É—á–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–∞
 0075  B0 23				MOV  AL, 23H   ; –Ω–æ–º–µ—Ä –≤–µ–∫—Ç–æ—
				Ä–∞
 0077  CD 21				INT  21H
 0079  89 1E 0002 R			MOV  KEEP_IP, BX  ; –∑–∞–ø–æ–º–∏–Ω–∞–Ω–
				∏–µ —Å–º–µ—â–µ–Ω–∏—è
 007D  8C 06 0000 R			MOV  KEEP_CS, ES  ; –∏ —Å–µ–≥–º–µ–Ω—Ç–∞
					
					; <–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ–∫—Ç–æ—Ä–∞ –ø
				—Ä–µ—Ä—ã–≤–∞–Ω–∏—è>
 0081  1E				PUSH DS
 0082  BA 0000 R			MOV  DX, OFFSET MY_INT ; —Å–º–µ—â–µ–Ω–∏
				–µ –¥–ª—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤ DX
 0085  B8 ---- R			MOV  AX, SEG MY_INT    ; —Å–µ–≥–º–µ–Ω—Ç
				 –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
 0088  8E D8				MOV  DS, AX          ; –ø–æ–º–µ—â–∞–µ–º
				 –≤ DS
 008A  B4 25				MOV  AH, 25H         ; —Ñ—É–Ω–∫—Ü–∏—è —
				É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–µ–∫—Ç–æ—Ä–∞
 008C  B0 23				MOV  AL, 23H         ; –Ω–æ–º–µ—Ä –≤–µ–
				∫—Ç–æ—Ä–∞
 008E  CD 21				INT  21H             ; –º–µ–Ω—è–µ–º –ø—
				Ä–µ—Ä—ã–≤–∞–Ω–∏–µ
 0090  1F				POP  DS
					
 0091					ctrl_c:
Microsoft (R) Macro Assembler Version 5.10                  12/7/21 14:09:06
                                                             Page     1-3


 0091  B4 00			    mov ah, 0
 0093  CD 16			    int 16h
 0095  3C 03			    cmp al, 3  ;–∫–æ–¥ —Å–∏–º–≤–æ–ª–∞ –ø–æ—Å–ª–
				µ –Ω–∞–∂–∞—Ç–∏—è 
 0097  75 F8			    jne ctrl_c
					
 0099  B8 03E8				mov ax, 1000
 009C  CD 23				int 23h
					
				
					; <–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–Ω–
				∞—á–∞–ª—å–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞
				–Ω–∏—è>
 009E  FA				CLI
 009F  1E				PUSH DS
 00A0  8B 16 0002 R			MOV  DX, KEEP_IP
 00A4  A1 0000 R			MOV  AX, KEEP_CS
 00A7  8E D8				MOV  DS, AX
 00A9  B4 25				MOV  AH, 25H
 00AB  B0 23				MOV  AL, 23H
 00AD  CD 21				INT  21H          ; –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–
				ª–∏–≤–∞–µ–º –≤–µ–∫—Ç–æ—Ä
 00AF  1F				POP  DS
 00B0  FB				STI
					
 00B1  B4 4C				MOV AH, 4Ch                          
 00B3  CD 21				INT 21h
 00B5				Main      ENDP
 00B5				CODE ENDS
					END Main 
Microsoft (R) Macro Assembler Version 5.10                  12/7/21 14:09:06
                                                             Symbols-1


Segments and Groups:

                N a m e         	Length	 Align	Combine Class

CODE . . . . . . . . . . . . . .  	00B5	PARA	NONE	
DATA . . . . . . . . . . . . . .  	0004	PARA	NONE	
STACK  . . . . . . . . . . . . .  	0800	PARA	STACK	

Symbols:            

                N a m e         	Type	 Value	 Attr

CTRL_C . . . . . . . . . . . . .  	L NEAR	0091	CODE

KEEP_CS  . . . . . . . . . . . .  	L WORD	0000	DATA
KEEP_IP  . . . . . . . . . . . .  	L WORD	0002	DATA

MAIN . . . . . . . . . . . . . .  	F PROC	0073	CODE	Length = 0042
MY_INT . . . . . . . . . . . . .  	F PROC	0000	CODE	Length = 0073

SPEC_SP  . . . . . . . . . . . .  	L WORD	0003	CODE
SPEC_SS  . . . . . . . . . . . .  	L WORD	0005	CODE
SPEC_STACK . . . . . . . . . . .  	L BYTE	0007	CODE	Length = 0028
START  . . . . . . . . . . . . .  	L NEAR	002F	CODE

WHILE_TIME . . . . . . . . . . .  	L NEAR	005B	CODE

@CPU . . . . . . . . . . . . . .  	TEXT  0101h		
@FILENAME  . . . . . . . . . . .  	TEXT  lab5		
@VERSION . . . . . . . . . . . .  	TEXT  510		


     99 Source  Lines
     99 Total   Lines
     18 Symbols

  47996 + 457214 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
